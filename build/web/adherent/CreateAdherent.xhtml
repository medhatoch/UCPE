<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>


        <f:facet name="first" >

            <meta http-equiv="X-UA-Conpatible" content="IE=edge" />
            <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
            <meta name="viewport" content="width=device-width, initial-scale=1" />


            <title>Inscription</title>

        </f:facet>

        <f:facet name="middle">

            <h:outputStylesheet name="bootstrap/css/bootstrap.css"/>
            <h:outputStylesheet name="css/dashboard.css"/>
            <h:outputScript name="bootstrap/js/bootstrap.js"/>

        </f:facet>

        <f:facet name="last">

            <h:outputStylesheet name="css/font-awesome.css"/>

        </f:facet>

    </h:head>
    <h:body>


        <h:outputStylesheet >
            @import url(https://fonts.googleapis.com/css?family=Roboto:400,300,600,400italic);
            * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-font-smoothing: antialiased;
            -o-font-smoothing: antialiased;
            font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
            }

            body {
            font-family: "Roboto", Helvetica, Arial, sans-serif;
            font-weight: 100;
            font-size: 12px;
            line-height: 30px;
            color: #777;
            background: #4CAF50;
            }

            .container {
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
            position: relative;
            }

            #contact input[type="text"],
            #contact input[type="email"],
            #contact input[type="tel"],
            #contact input[type="url"],
            #contact textarea,
            #contact button[type="submit"] {
            font: 400 12px/16px "Roboto", Helvetica, Arial, sans-serif;
            }

            #contact {
            background: #F9F9F9;
            padding: 100px;
            margin: 200px 0;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            #contact h3 {
            display: block;
            font-size: 30px;
            font-weight: 300;
            margin-bottom: 10px;
            }

            #contact h4 {
            margin: 5px 0 15px;
            display: block;
            font-size: 13px;
            font-weight: 400;
            }

            fieldset {
            border: medium none !important;
            margin: 0 0 10px;
            min-width: 100%;
            padding: 0;
            width: 100%;
            }

            #contact input[type="text"],
            #contact input[type="email"],
            #contact input[type="tel"],
            #contact input[type="url"],
            #contact textarea {
            width: 100%;
            border: 1px solid #ccc;
            background: #FFF;
            margin: 0 0 5px;
            padding: 10px;
            }

            #contact input[type="text"]:hover,
            #contact input[type="email"]:hover,
            #contact input[type="tel"]:hover,
            #contact input[type="url"]:hover,
            #contact textarea:hover {
            -webkit-transition: border-color 0.3s ease-in-out;
            -moz-transition: border-color 0.3s ease-in-out;
            transition: border-color 0.3s ease-in-out;
            border: 1px solid #aaa;
            }

            #contact textarea {
            height: 100px;
            max-width: 100%;
            resize: none;
            }

            #contact button[type="submit"] {
            cursor: pointer;
            width: 100%;
            border: none;
            background: #4CAF50;
            color: #FFF;
            margin: 0 0 5px;
            padding: 10px;
            font-size: 15px;
            }

            #contact button[type="submit"]:hover {
            background: #43A047;
            -webkit-transition: background 0.3s ease-in-out;
            -moz-transition: background 0.3s ease-in-out;
            transition: background-color 0.3s ease-in-out;
            }

            #contact button[type="submit"]:active {
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.5);
            }

            .copyright {
            text-align: center;
            }

            #contact input:focus,
            #contact textarea:focus {
            outline: 0;
            border: 1px solid #aaa;
            }

            ::-webkit-input-placeholder {
            color: #888;
            }

            :-moz-placeholder {
            color: #888;
            }

            ::-moz-placeholder {
            color: #888;
            }

            :-ms-input-placeholder {
            color: #888;
            }

        </h:outputStylesheet>


        <div class="container">  
            <h:form id="contact" >
                <h3>Inscription</h3>
                <br/>
                <br/>
                <h4>Données tuteur</h4>
                <p:fieldset>
                    <p:inputText  placeholder="Prenom" id="prenom" value="#{adherentController.selected.prenom}" required="autofocus"/>
                </p:fieldset>
                <p:fieldset>
                    <p:inputText  placeholder="Nom" id="nom" value="#{adherentController.selected.nom}" required="autofocus"/>
                </p:fieldset>
                <p:fieldset>
                    <p:inputText  placeholder="Email" id="email" value="#{adherentController.selected.email}"  required="autofocus"/>
                </p:fieldset>
                <p:fieldset>
                    <p:inputText  placeholder="Telephone" id="tel" value="#{adherentController.selected.tel}" required="autofocus"/>
                </p:fieldset>
                <h4>Données autre parent</h4>
                <p:fieldset>
                    <p:inputText  placeholder="Prenom" id="prenomAutreParent" value="#{adherentController.selected.prenomAutreParent}" required="autofocus"/>
                </p:fieldset>
                <p:fieldset>
                    <p:inputText  placeholder="Nom" id="nomAutreParent" value="#{adherentController.selected.nomAutreParent}" required="autofocus"/>
                </p:fieldset>
                <p:fieldset>
                    <p:inputText  placeholder="Email" id="emailAutreParent" value="#{adherentController.selected.emailAutreParent}"  required="autofocus"/>
                </p:fieldset>
                <p:fieldset>
                    <p:inputText  placeholder="Telephone" id="telAutreParent" value="#{adherentController.selected.telAutreParent}" required="autofocus"/>
                </p:fieldset>
                <h4>Combien d'enfants avez-vous?</h4>
                <center>
                    <p:inputText id="counter" value="#{adherentController.text}"  style="text-align:left">
                        <p:ajax event="keyup" update="@form"  listener="#{adherentController.handleKeyEvent}" />
                    </p:inputText>
                 
                </center>

                <div>
                    <c:forEach var="i" begin="1" end="#{adherentController.text}">
                        <h:form id="Enfantform">

                            <p:outputLabel value="Enfant--#{i}" />
                            <p:inputText placeholder="Nom" id="nom" value="#{enfantController.selected.nom}" required="autofocus"/>
                            <p:inputText placeholder="Prenom" id="prenom" value="#{enfantController.selected.prenom}" required="autofocus"/>
                            <p:inputText placeholder="Date de naissance" id="dateDeNaissance" value="#{enfantController.selected.dateDeNaissance}" required="autofocus" >
                                <f:convertDateTime pattern="MM/dd/yyyy" />
                            </p:inputText>
                            <p:selectOneMenu value="#{enfantController.selected.classe}">
                                <f:selectItem  itemLabel="Type d'assurance" itemValue="#{null}"/>
                                <f:selectItem itemLabel="Global" itemValue="G"/>
                                <f:selectItem itemLabel="Global+" itemValue="G+"/>
                            </p:selectOneMenu>

                        </h:form>
                    </c:forEach>
                    <p:fieldset>
                        <p:commandButton action="#{adherentController.createAdherent()}" value="Envoyer" icon="ui-icon-check"/>
                    </p:fieldset>
                </div>


            </h:form>
        </div>

    </h:body>
</html>

